<div class="modal" ng-controller="ChoiceStepConditionEditorPopupController">
    <div class="modal-dialog modal-wide">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()">&times;</button>
                <h2 translate>PROPERTY.SEQUENCEFLOW.CONDITION.TITLE</h2>
            </div>

            <div class="modal-body">

                    <div class="detail-group clearfix">
                        <div class="form-group clearfix">
                            <div class="col-xs-12">
                                <label class="col-xs-3">{{'PROCESS-BUILDER.CHOICE-STEP.EDIT.NAME' | translate}}</label>

                                <div class="col-xs-9">
                                    <input type="text" ng-disabled="true" class="form-control" ng-model="choiceName"/>
                                </div>
                            </div>
                        </div>

                        <div class="form-group clearfix">
                            <div class="col-xs-12">
                                <label class="col-xs-3">{{'PROCESS-BUILDER.CHOICE-STEP.EDIT.DEFAUL-FLOW' | translate}}</label>

                                <div class="col-xs-9">
                                    <input type="checkbox" ng-disabled="true" ng-model="isDefault" />
                                </div>
                            </div>
                        </div>

                        <div class="form-group clearfix">
                            <div class="col-xs-12">
                                <label class="col-xs-3">{{'PROPERTY.SEQUENCEFLOW.CONDITION.TYPE.TITLE' | translate}}</label>
                                <div class="col-xs-9">
                                    <div class="btn-group btn-group-justified">
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.type" ng-class="{'active' : model.condition.type === 'none'}">{{'PROPERTY.SEQUENCEFLOW.CONDITION.NO-CONDITION-DISPLAY' | translate}}</button>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.type" ng-class="{'active' : model.condition.type == 'variables'}">{{'PROPERTY.SEQUENCEFLOW.CONDITION.TYPE.SIMPLE' | translate}}</button>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.type" ng-class="{'active' : model.condition.type == 'advanced'}">{{'PROPERTY.SEQUENCEFLOW.CONDITION.TYPE.ADVANCED' | translate}}</button>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.type" ng-class="{'active' : model.condition.type == 'static'}">{{'PROPERTY.SEQUENCEFLOW.CONDITION.TYPE.EXPRESSION' | translate}}</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group clearfix" ng-show="model.condition.type === 'variables'">
                            <div class="col-xs-12">
                                <div class="col-xs-3">
                                    <label>{{'FORM-BUILDER.VISIBILITY.LEFT-FORM-FIELD' | translate}}</label>
                                </div>
                                <div class="col-xs-9">
                                    <div class="btn-group btn-group-justified">
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.leftFieldType" ng-class="{'active' : model.condition.leftFieldType === 'formField' || !model.condition.leftFieldType }">{{'PROCESS-BUILDER.CHOICE-STEP.EDIT.FORM-FIELD' | translate}}</button>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.leftFieldType" ng-class="{'active' : model.condition.leftFieldType === 'outcome'}">{{'PROCESS-BUILDER.CHOICE-STEP.EDIT.FORM-OUTCOME' | translate}}</button>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" ng-disabled="true" class="btn btn-default" ng-model="model.condition.leftFieldType" ng-class="{'active' : model.condition.leftFieldType === 'restResponse'}">{{'PROCESS-BUILDER.CHOICE-STEP.EDIT.REST-RESPONSE-VARIABLE' | translate}}</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12">
                                <hr/>
                            </div>
                            <div class="col-xs-12">
                                <div class="col-xs-4" ng-if="model.condition.leftFieldType === 'formField' || !model.condition.leftFieldType">
                                    <input ng-disabled="true" type="text" class="form-control" ng-model="model.condition.leftFormFieldId">
                                </div>
                                <div class="col-xs-4" ng-if="model.condition.leftFieldType === 'outcome'">
                                    <input ng-disabled="true" type="text" class="form-control" ng-model="model.condition.leftOutcomeFormName">
                                </div>
                                <div class="col-xs-4" ng-if="model.condition.leftFieldType === 'restResponse'">
                                    <input ng-disabled="true" type="text" class="form-control" ng-model="model.condition.leftRestResponseId">
                                </div>
                                <div class="col-xs-4">
                                    <input ng-disabled="true" type="text" class="form-control" value="{{getOperatorLabel(model)}}">
                                </div>
                                <div class="col-xs-4" ng-if="model.condition.leftFieldType === 'outcome'">
                                    <input ng-disabled="true" type="text" class="form-control" ng-value="model.condition.rightOutcomeName">
                                </div>
                                <div class="col-xs-4" ng-if="(model.condition.leftFieldType === 'formField' || model.condition.leftFieldType === 'restResponse' || !model.condition.leftFieldType) && isShowRightHandSide()">
                                    <input ng-disabled="true" type="text" class="form-control" ng-model="model.condition.rightValue">
                                </div>
                            </div>
                        </div>

                        <div class="form-group clearfix" ng-show="model.condition.type === 'static'">
                            <div class="col-xs-12">
                                <hr/>
                            </div>

                            <div class="col-xs-12">
                                <label class="col-xs-3">{{'PROPERTY.SEQUENCEFLOW.CONDITION.STATIC' | translate}}</label>
                                <div class="col-xs-9">
                                    <textarea ng-disabled="true" class="form-control" ng-model="model.condition.staticValue" style="width:100%; height:100%; max-width: 100%; max-height: 100%; min-height: 50px"/>
                                </div>
                            </div>
                        </div>

                        <div class="form-group clearfix" ng-show="model.condition.type == 'advanced'">

                            <div class="col-xs-12">
                                <hr/>
                            </div>

                            <div ng-controller="ChoiceStepConditionBuilderReadOnlyController">
                                <div class="col-xs-12">
                                    <div class="kis-listener-grid" ui-grid="flowConditionGridOptions" ng-if="flowConditionGridOptions" ui-grid-selection ui-grid-auto-resize></div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>

            <div class="modal-footer">
                <button ng-click="close()" class="btn btn-primary" translate>ACTION.CANCEL</button>
            </div>

        </div>
    </div>
</div>
